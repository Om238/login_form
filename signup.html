<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        const submitHandle = (event) => {
            event.preventDefault();

            const name = event.target.name.value;
            const email = event.target.email.value;
            const password = event.target.password.value
            const CnfPassword = event.target.CnfPassword.value

            if (name.length === 0 || email.length === 0
                || password.length === 0 || CnfPassword.length === 0) {
                alert("All fields are required");
            }
            if (CnfPassword !== password) {
                alert("Password and CnfPassword doesn't matched")
            }

            const data = {
                name: name,
                email: email,
                password: password
            }

            const localdata = localStorage.getItem(email);
            if(localdata !== null) {
                alert("User with this email is already exist");
            }
            else {
                localStorage.setItem(email, JSON.stringify(data));
                alert("User registered Successfully");

                event.target.name.value = "";
                event.target.email.value = "";
                event.target.CnfPassword.value = "";
                event.target.password.value = "";  
            }
        }
    </script>
</head>

<body>
    <div style="width: 310px; margin: auto;">
        <h1>Sign Up</h1>
        <form style="border: 1px solid gray; border-radius: 10px; padding: 15px;" onsubmit="submitHandle(event)">
            <label for="name"> Name<span style="color: red;">*</span></label>
            <input type="text" id="name" name="name"> <br> <br>
            <label for="email"> Email<span style="color: red;">*</span></label>
            <input type="email" id="email" name="email"> <br> <br>
            <label for="password"> Password<span style="color: red;">*</span></label>
            <input type="password" id="password" name="password">
            <br>
            <br>
            <label for="CnfPassword"> CnfPassword<span style="color: red;">*</span></label>
            <input type="password" id="CnfPassword" name="CnfPassword">
            <br>
            <br>
            <button type="submit" style="width: 100%; height: 30px; margin: auto; border-radius: 5px;">Sign Up</button>
        </form>

        <p>Already have an account? <a href="./index.html"><b style="text-decoration: underline; ">Sign In</b></a>
        </p>

    </div>
</body>

</html>